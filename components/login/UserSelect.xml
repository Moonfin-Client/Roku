<?xml version="1.0" encoding="utf-8"?>
<component name="UserSelect" extends="JFScreen">
  <children>
    <!-- Background with Purple Haze gradient -->
    <Rectangle
      id="background"
      width="1920"
      height="1080"
      color="0x030322FF" />

    <Rectangle id="unhideUsers" translation="[-600, 0]" width="600" height="1080" color="0x000000E0">
      <Text
        id="unhideUserHeader"
        text="Unhide Users"
        horizAlign="left"
        font="font:LargeSystemFont"
        color="0x00A4DCFF"
        height="100"
        width="400"
        translation="[120, 80]" />

      <LabelList
        translation="[120,200]"
        id="hiddenUsers"
        itemSize="[400,70]"
        vertFocusAnimationStyle="floatingFocus"
        itemSpacing="[0, 15]"
        textVertAlign="center" />
    </Rectangle>

    <Rectangle id="viewContent" translation="[0, 0]">
      <!-- Logo -->
      <Poster
        id="logo"
        uri="pkg:/images/logo.png"
        width="860"
        height="150"
        loadDisplayMode="scaleToFit"
        translation="[560, 80]" />

      <!-- User Selection Container with Background -->
      <Group id="userSelectionGroup" translation="[0, 0]">
        <Poster
          uri="pkg:/images/user_selection_bg.png"
          width="1650"
          height="450"
          translation="[100, 300]" />

        <!-- User Row Container -->
        <UserRow id="userRow" rowFocusAnimationStyle="fixedFocusWrap" translation="[130, 320]" />

        <!-- Manual Login Button -->
        <StandardButton
          id="manualLogin"
          text="Manual Login"
          height="60"
          width="280"
          translation="[555, 640]" />

        <!-- Change Server Button -->
        <StandardButton
          id="changeServer"
          text="Change Server"
          height="60"
          width="280"
          translation="[1045, 640]" />
      </Group>

      <!-- Manage Hidden Users Link -->
      <Text
        id="manageHiddenUsers"
        text="Manage Hidden Users"
        horizAlign="center"
        font="font:MediumSystemFont"
        color="0xFFFFFF80"
        height="60"
        width="350"
        translation="[785, 940]" />

      <!-- Helper Text Footer -->
      <LayoutGroup
        layoutDirection="vert"
        translation="[0, 850]"
        itemSpacings="[5]">
        <Text
          text="Need help? Make sure your Jellyfin server is running and accessible on your network."
          horizAlign="center"
          font="font:SmallSystemFont"
          color="0xFFFFFF60"
          height="30"
          width="1920" />
        <Text
          text="Use the remote to navigate and press OK to select."
          horizAlign="center"
          font="font:SmallSystemFont"
          color="0xFFFFFF60"
          height="30"
          width="1920" />
      </LayoutGroup>
    </Rectangle>

    <Animation id="hiddenUserAnimation" duration="0.5" repeat="false" easeFunction="linear">
      <Vector2DFieldInterpolator id="hiddenUserSlider" key="[0.0, 1.0]" keyValue="[[-600, 0], [0, 0]]" fieldToInterp="unhideUsers.translation" />
      <Vector2DFieldInterpolator id="viewContentSlider" key="[0.0, 1.0]" keyValue="[[0, 0], [600, 0]]" fieldToInterp="viewContent.translation" />
    </Animation>
  </children>
  <interface>
    <field id="showUser" type="node" alwaysNotify="true" />
    <field id="hideUser" type="node" alwaysNotify="true" />
    <field id="forgetUser" type="string" alwaysNotify="true" />
    <field id="changeServer" type="boolean" alwaysNotify="true" />
    <field id="itemSelected" type="string" alwaysNotify="true" />
    <field id="itemContent" type="array" onChange="itemContentChanged" />
    <field id="hiddenUserList" type="array" onChange="onHiddenUserListChanged" />
  </interface>
</component>