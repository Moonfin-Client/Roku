<?xml version="1.0" encoding="utf-8"?>
<component name="TVShowDetails" extends="JFScreen">
  <children>
    <!-- Backdrop: black background -->
    <Rectangle id="showBackgroundBlack" width="1920" height="1080" color="#000000" visible="true" />

    <!-- Backdrop: blurred show image -->
    <Poster id="showBackdrop" width="1920" height="1080" loadDisplayMode="scaleToFill" opacity="0.4" visible="true" />

    <!-- Tint overlay for backdrop readability -->
    <Rectangle id="showBackdropTint" width="1920" height="1080" color="#F2000000" opacity="1.0" visible="true" />

    <!-- Series Logo - positioned absolutely so it doesn't affect layout -->
    <Poster id="showLogo" visible="true" loadDisplayMode="scaleToFit" width="400" height="200" translation="[1420, 200]" opacity="0.7" />

    <!-- Scrollable content group -->
    <Group id="scrollableContent" translation="[0, 0]">
      <LayoutGroup id="container" layoutDirection="vert" itemSpacings="[20]" translation="[100, 180]">
        <!-- Show title at top -->
        <Text id="showTitle" font="font:LargeBoldSystemFont" width="1720" wrap="true" maxLines="2" color="#FFFFFF" />

        <!-- Metadata row under title -->
        <LayoutGroup id="metadataRow" layoutDirection="horiz" horizAlignment="left" itemSpacings="[15]">
          <LayoutGroup id="communityRatingGroup" layoutDirection="horiz" itemSpacings="[5]">
            <Poster id="star" uri="pkg:/images/sharp_star_white_18dp.png" height="28" width="28" blendColor="#FFD700" />
            <Text id="communityRating" font="font:MediumSystemFont" color="#CCCCCC" />
          </LayoutGroup>
          <Text id="dot0" font="font:MediumSystemFont" text="•" color="#CCCCCC" visible="true" />
          <Text id="releaseYear" font="font:MediumSystemFont" color="#CCCCCC" />
          <Text id="dot1" font="font:MediumSystemFont" text="•" color="#CCCCCC" visible="true" />
          <Text id="showStatus" font="font:MediumSystemFont" color="#CCCCCC" />
          <Text id="dot2" font="font:MediumSystemFont" text="•" color="#CCCCCC" visible="true" />
          <Text id="officialRating" font="font:MediumBoldSystemFont" color="#CCCCCC" />
        </LayoutGroup>

        <!-- Tagline and Description -->
        <LayoutGroup layoutDirection="vert" itemSpacings="[8]">
          <Text id="tagline" font="font:SmallSystemFont,italic" wrap="true" maxLines="2" width="1248" color="#AAAAAA" />
          <Text id="overview" font="font:SmallSystemFont" wrap="true" width="1248" color="#EEEEEE" />
        </LayoutGroup>

        <!-- Info grid: 2 columns with headers on left, data on right -->
        <LayoutGroup id="infoGrid" layoutDirection="vert" itemSpacings="[12]">
          <!-- Genres row -->
          <LayoutGroup id="genresRow" layoutDirection="horiz" itemSpacings="[40]" visible="false">
            <Rectangle width="250" height="1" color="#00000000">
              <Text id="genresHeader" text="Genres" font="font:MediumSystemFont" color="#888888" width="250" />
            </Rectangle>
            <Text id="genres" font="font:MediumSystemFont" color="#CCCCCC" width="800" wrap="true" maxLines="2" />
          </LayoutGroup>

          <!-- Networks row -->
          <LayoutGroup id="networksRow" layoutDirection="horiz" itemSpacings="[40]" visible="false">
            <Rectangle width="250" height="1" color="#00000000">
              <Text id="networksHeader" text="Network" font="font:MediumSystemFont" color="#888888" width="250" />
            </Rectangle>
            <Text id="networks" font="font:MediumSystemFont" color="#CCCCCC" width="800" wrap="true" maxLines="2" />
          </LayoutGroup>

          <!-- Premiered row -->
          <LayoutGroup id="premieredRow" layoutDirection="horiz" itemSpacings="[40]" visible="false">
            <Rectangle width="250" height="1" color="#00000000">
              <Text id="premieredHeader" text="Premiere Date" font="font:MediumSystemFont" color="#888888" width="250" />
            </Rectangle>
            <Text id="premiered" font="font:MediumSystemFont" color="#CCCCCC" width="800" />
          </LayoutGroup>

          <!-- Ended row -->
          <LayoutGroup id="endedRow" layoutDirection="horiz" itemSpacings="[40]" visible="false">
            <Rectangle width="250" height="1" color="#00000000">
              <Text id="endedHeader" text="Ended Date" font="font:MediumSystemFont" color="#888888" width="250" />
            </Rectangle>
            <Text id="ended" font="font:MediumSystemFont" color="#CCCCCC" width="800" />
          </LayoutGroup>
        </LayoutGroup>

        <!-- Dynamic button row - buttons are added programmatically -->
        <Rectangle width="1920" height="120" color="#00000000" translation="[0, 0]">
          <LayoutGroup id="buttonRow" layoutDirection="horiz" itemSpacings="[40]" translation="[960, 10]" horizAlignment="center" />
        </Rectangle>

        <!-- Seasons, Cast and Crew rows integrated below buttons -->
        <ExtrasRowList id="extrasGrid"
          numRows="3"
          rowFocusAnimationStyle="fixedFocus"
          itemSpacing="[120, 132]"
          rowLabelOffset="[[9, 24]]"
          showRowLabel="true"
          showRowCounter="true"
          visible="true"
          itemComponentName="ExtrasItem" />

        <!-- Hidden seasons row for data binding -->
        <TVSeasonRow id="seasons" visible="false" />
      </LayoutGroup>
    </Group>

    <AudioSelector id="audioSelector" visible="false" />
    <SubtitleSelector id="subtitleSelector" visible="false" />
    <MovieOptions id="movieOptions" visible="false" />

    <!-- Theme music player -->
    <ThemeMusicPlayer id="themeMusicPlayer" />

    <!-- Task nodes for API calls -->
    <FavoriteItemsTask id="favoriteTask" />
    <PlaystateTask id="playstateTask" />
  </children>
  <interface>
    <field id="buttonSelected" type="string" alwaysNotify="true" />
    <field id="selectedItem" type="node" alias="extrasGrid.selectedItem" alwaysNotify="true" />
    <field id="itemContent" type="node" />
    <field id="seasonData" type="assocarray" alias="seasons.TVSeasonData" />
    <field id="seasonSelected" alias="seasons.rowItemSelected" alwaysNotify="true" />
    <field id="quickPlayNode" type="node" alwaysNotify="true" />
    <field id="refreshTVShowDetailsData" type="bool" alwaysNotify="true" />
  </interface>
</component>